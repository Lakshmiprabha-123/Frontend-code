{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TeamCompositionChartComponent = class TeamCompositionChartComponent {\n  constructor(projectService) {\n    this.projectService = projectService;\n    this.projects = [];\n    this.selectedProject = null;\n    this.pieChartLabels = [];\n    this.pieChartData = [];\n    this.pieChartType = 'pie';\n    this.pieChartOptions = {\n      responsive: true\n    };\n    this.pieChartColors = [{\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E6E6FA', '#F08080', '#90EE90', '#FFA07A']\n    }];\n  }\n  ngOnInit() {\n    this.projectService.getAllProjects().subscribe(projects => {\n      this.projects = projects;\n    });\n  }\n  onProjectSelect(event) {\n    const selectedProjectId = +event.target.value;\n    const selectedProject = this.projects.find(project => project.id === selectedProjectId);\n    if (selectedProject && selectedProject.status) {\n      const teamComposition = selectedProject.status.teamComposition;\n      this.pieChartLabels = Object.keys(teamComposition);\n      this.pieChartData = Object.values(teamComposition);\n      this.selectedProject = selectedProject;\n    } else {\n      this.pieChartLabels = [];\n      this.pieChartData = [];\n      this.selectedProject = null;\n    }\n  }\n};\nTeamCompositionChartComponent = __decorate([Component({\n  selector: 'app-team-composition-chart',\n  templateUrl: './team-composition-chart.component.html',\n  styleUrls: ['./team-composition-chart.component.css']\n})], TeamCompositionChartComponent);\nexport { TeamCompositionChartComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,IAAMC,6BAA6B,GAAnC,MAAMA,6BAA6B;EAexCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAdlC,aAAQ,GAAc,EAAE;IACxB,oBAAe,GAAmB,IAAI;IACtC,mBAAc,GAAY,EAAE;IAC5B,iBAAY,GAAkB,EAAE;IAChC,iBAAY,GAAc,KAAK;IAC/B,oBAAe,GAAiB;MAC9BC,UAAU,EAAE;KACb;IACD,mBAAc,GAAY,CACxB;MACEC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;KAC/H,CACF;EAEoD;EAErDC,QAAQ;IACN,IAAI,CAACH,cAAc,CAACI,cAAc,EAAE,CAACC,SAAS,CAAEC,QAAmB,IAAI;MACrE,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,CAAC;EACJ;EAEAC,eAAe,CAACC,KAAU;IACxB,MAAMC,iBAAiB,GAAG,CAACD,KAAK,CAACE,MAAM,CAACC,KAAK;IAC7C,MAAMC,eAAe,GAAG,IAAI,CAACN,QAAQ,CAACO,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKN,iBAAiB,CAAC;IAEvF,IAAIG,eAAe,IAAIA,eAAe,CAACI,MAAM,EAAE;MAC7C,MAAMC,eAAe,GAAGL,eAAe,CAACI,MAAM,CAACC,eAAe;MAC9D,IAAI,CAACC,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACH,eAAe,CAAC;MAClD,IAAI,CAACI,YAAY,GAAGF,MAAM,CAACG,MAAM,CAACL,eAAe,CAAC;MAClD,IAAI,CAACL,eAAe,GAAGA,eAAe;KACvC,MAAM;MACL,IAAI,CAACM,cAAc,GAAG,EAAE;MACxB,IAAI,CAACG,YAAY,GAAG,EAAE;MACtB,IAAI,CAACT,eAAe,GAAG,IAAI;;EAE/B;CACD;AAtCYd,6BAA6B,eALzCD,SAAS,CAAC;EACT0B,QAAQ,EAAE,4BAA4B;EACtCC,WAAW,EAAE,yCAAyC;EACtDC,SAAS,EAAE,CAAC,wCAAwC;CACrD,CAAC,GACW3B,6BAA6B,CAsCzC;SAtCYA,6BAA6B","names":["Component","TeamCompositionChartComponent","constructor","projectService","responsive","backgroundColor","ngOnInit","getAllProjects","subscribe","projects","onProjectSelect","event","selectedProjectId","target","value","selectedProject","find","project","id","status","teamComposition","pieChartLabels","Object","keys","pieChartData","values","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/decodersmdu/pocone/src/app/team-composition-chart/team-composition-chart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProjectService } from '../Services/project.service';\nimport { Project } from '../Models/project.model';\nimport { Label, Color, SingleDataSet } from 'ng2-charts';\nimport { ChartOptions, ChartType } from 'chart.js';\n\n@Component({\n  selector: 'app-team-composition-chart',\n  templateUrl: './team-composition-chart.component.html',\n  styleUrls: ['./team-composition-chart.component.css']\n})\nexport class TeamCompositionChartComponent implements OnInit {\n  projects: Project[] = [];\n  selectedProject: Project | null = null;\n  pieChartLabels: Label[] = [];\n  pieChartData: SingleDataSet = [];\n  pieChartType: ChartType = 'pie';\n  pieChartOptions: ChartOptions = {\n    responsive: true,\n  };\n  pieChartColors: Color[] = [\n    {\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E6E6FA', '#F08080', '#90EE90', '#FFA07A' ]\n    }\n  ];\n\n  constructor(private projectService: ProjectService) {}\n\n  ngOnInit(): void {\n    this.projectService.getAllProjects().subscribe((projects: Project[]) => {\n      this.projects = projects;\n    });\n  }\n\n  onProjectSelect(event: any): void {\n    const selectedProjectId = +event.target.value;\n    const selectedProject = this.projects.find(project => project.id === selectedProjectId);\n\n    if (selectedProject && selectedProject.status) {\n      const teamComposition = selectedProject.status.teamComposition;\n      this.pieChartLabels = Object.keys(teamComposition);\n      this.pieChartData = Object.values(teamComposition);\n      this.selectedProject = selectedProject;\n    } else {\n      this.pieChartLabels = [];\n      this.pieChartData = [];\n      this.selectedProject = null;\n    }\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}