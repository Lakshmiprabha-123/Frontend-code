{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/project.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ng2-charts\";\nfunction TeamCompositionChartComponent_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const project_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", project_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(project_r1.name);\n  }\n}\nexport class TeamCompositionChartComponent {\n  constructor(projectService) {\n    this.projectService = projectService;\n    this.projects = [];\n    this.selectedProject = null;\n    this.pieChartLabels = [];\n    this.pieChartData = [];\n    this.pieChartType = 'pie';\n    // pieChartOptions: ChartOptions = {\n    //   responsive: true,\n    //   plugins: {\n    //     legend: {\n    //       display: true,\n    //       position: 'left', // Position the legend to the left\n    //       align: 'start',  // Align legends to the start\n    //       labels: {\n    //         boxWidth: 20, // Width of the legend box\n    //         padding: 10,  // Padding between the legend box and the label text\n    //       }\n    //     },\n    //     tooltip: {\n    //       callbacks: {\n    //         label: (tooltipItem) => {\n    //           return tooltipItem.label + ': ' + tooltipItem.formattedValue;\n    //         }\n    //       }\n    //     }\n    //   }\n    // };\n    this.pieChartOptions = {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: true,\n          position: 'left',\n          align: 'start',\n          labels: {\n            boxWidth: 20,\n            padding: 10 // Padding between the legend box and the label text\n          }\n        },\n\n        tooltip: {\n          callbacks: {\n            label: tooltipItem => {\n              return tooltipItem.label + ': ' + tooltipItem.formattedValue;\n            }\n          }\n        }\n      }\n    };\n    this.pieChartColors = [{\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E6E6FA', '#F08080', '#90EE90', '#FFA07A']\n    }];\n  }\n  ngOnInit() {\n    this.projectService.getAllProjects().subscribe(projects => {\n      this.projects = projects;\n    });\n  }\n  onProjectSelect(event) {\n    const selectedProjectId = +event.target.value;\n    const selectedProject = this.projects.find(project => project.id === selectedProjectId);\n    if (selectedProject && selectedProject.status) {\n      const teamComposition = selectedProject.status.teamComposition;\n      this.pieChartLabels = Object.keys(teamComposition);\n      this.pieChartData = Object.values(teamComposition);\n      this.selectedProject = selectedProject;\n    } else {\n      this.pieChartLabels = [];\n      this.pieChartData = [];\n      this.selectedProject = null;\n    }\n  }\n  static #_ = this.ɵfac = function TeamCompositionChartComponent_Factory(t) {\n    return new (t || TeamCompositionChartComponent)(i0.ɵɵdirectiveInject(i1.ProjectService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TeamCompositionChartComponent,\n    selectors: [[\"app-team-composition-chart\"]],\n    decls: 5,\n    vars: 6,\n    consts: [[1, \"dashboard-container\"], [1, \"chart-container\"], [2, \"width\", \"200px\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"baseChart\", \"\", 3, \"data\", \"labels\", \"chartType\", \"colors\", \"options\"], [3, \"value\"]],\n    template: function TeamCompositionChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"select\", 2);\n        i0.ɵɵlistener(\"change\", function TeamCompositionChartComponent_Template_select_change_2_listener($event) {\n          return ctx.onProjectSelect($event);\n        });\n        i0.ɵɵtemplate(3, TeamCompositionChartComponent_option_3_Template, 2, 2, \"option\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"canvas\", 4);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.projects);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"data\", ctx.pieChartData)(\"labels\", ctx.pieChartLabels)(\"chartType\", ctx.pieChartType)(\"colors\", ctx.pieChartColors)(\"options\", ctx.pieChartOptions);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.BaseChartDirective],\n    styles: [\".dashboard-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 20px; \\n  }\\n  \\n  .chart-container[_ngcontent-%COMP%] {\\n    flex: 1; \\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGVhbS1jb21wb3NpdGlvbi1jaGFydC90ZWFtLWNvbXBvc2l0aW9uLWNoYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsU0FBUyxFQUFFLGlDQUFpQztFQUM5Qzs7RUFFQTtJQUNFLE9BQU8sRUFBRSxxQ0FBcUM7RUFDaEQiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFzaGJvYXJkLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDIwcHg7IC8qIFNwYWNlIGJldHdlZW4gdGhlIGNvbXBvbmVudHMgKi9cbiAgfVxuICBcbiAgLmNoYXJ0LWNvbnRhaW5lciB7XG4gICAgZmxleDogMTsgLyogQWxsb3cgY29tcG9uZW50cyB0byBncm93IGVxdWFsbHkgKi9cbiAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IAGMA,iCAA8D;IAAAA,YAAkB;IAAAA,iBAAS;;;;IAAhDA,qCAAoB;IAACA,eAAkB;IAAlBA,qCAAkB;;;ACStF,OAAM,MAAOC,6BAA6B;EAsDxCC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IArDlC,aAAQ,GAAc,EAAE;IACxB,oBAAe,GAAmB,IAAI;IACtC,mBAAc,GAAY,EAAE;IAC5B,iBAAY,GAAkB,EAAE;IAChC,iBAAY,GAAc,KAAK;IAC/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,oBAAe,GAAwB;MACrCC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE;QACPC,MAAM,EAAE;UACNC,OAAO,EAAE,IAAI;UACbC,QAAQ,EAAE,MAAM;UAChBC,KAAK,EAAE,OAAO;UACdC,MAAM,EAAE;YACNC,QAAQ,EAAE,EAAE;YACZC,OAAO,EAAE,EAAE,CAAG;;SAEjB;;QACDC,OAAO,EAAE;UACPC,SAAS,EAAE;YACTC,KAAK,EAAGC,WAA+B,IAAI;cACzC,OAAOA,WAAW,CAACD,KAAK,GAAG,IAAI,GAAGC,WAAW,CAACC,cAAc;YAC9D;;;;KAIP;IACD,mBAAc,GAAY,CACxB;MACEC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;KAC/H,CACF;EAEoD;EAErDC,QAAQ;IACN,IAAI,CAAChB,cAAc,CAACiB,cAAc,EAAE,CAACC,SAAS,CAAEC,QAAmB,IAAI;MACrE,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,CAAC;EACJ;EAEAC,eAAe,CAACC,KAAU;IACxB,MAAMC,iBAAiB,GAAG,CAACD,KAAK,CAACE,MAAM,CAACC,KAAK;IAC7C,MAAMC,eAAe,GAAG,IAAI,CAACN,QAAQ,CAACO,IAAI,CAACC,OAAO,IAAIA,OAAO,CAACC,EAAE,KAAKN,iBAAiB,CAAC;IAEvF,IAAIG,eAAe,IAAIA,eAAe,CAACI,MAAM,EAAE;MAC7C,MAAMC,eAAe,GAAGL,eAAe,CAACI,MAAM,CAACC,eAAe;MAC9D,IAAI,CAACC,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACH,eAAe,CAAC;MAClD,IAAI,CAACI,YAAY,GAAGF,MAAM,CAACG,MAAM,CAACL,eAAe,CAAC;MAClD,IAAI,CAACL,eAAe,GAAGA,eAAe;KACvC,MAAM;MACL,IAAI,CAACM,cAAc,GAAG,EAAE;MACxB,IAAI,CAACG,YAAY,GAAG,EAAE;MACtB,IAAI,CAACT,eAAe,GAAG,IAAI;;EAE/B;EAAC;qBA5EU3B,6BAA6B;EAAA;EAAA;UAA7BA,6BAA6B;IAAAsC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDZ1C3C,8BAAiC;QAErBA;UAAA,OAAU4C,2BAAuB;QAAA,EAAC;QACxC5C,oFAAyF;QAC3FA,iBAAS;QACTA,4BAMS;QACXA,iBAAM;;;QAT0BA,eAAW;QAAXA,sCAAW;QAGjCA,eAAqB;QAArBA,uCAAqB","names":["i0","TeamCompositionChartComponent","constructor","projectService","responsive","plugins","legend","display","position","align","labels","boxWidth","padding","tooltip","callbacks","label","tooltipItem","formattedValue","backgroundColor","ngOnInit","getAllProjects","subscribe","projects","onProjectSelect","event","selectedProjectId","target","value","selectedProject","find","project","id","status","teamComposition","pieChartLabels","Object","keys","pieChartData","values","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/decodersmdu/pocone/src/app/team-composition-chart/team-composition-chart.component.html","/home/decodersmdu/pocone/src/app/team-composition-chart/team-composition-chart.component.ts"],"sourcesContent":["<div class=\"dashboard-container\">\n    <div class=\"chart-container\">\n    <select (change)=\"onProjectSelect($event)\" style=\"width: 200px;\">\n      <option *ngFor=\"let project of projects\" [value]=\"project.id\">{{ project.name }}</option>\n    </select>\n    <canvas baseChart\n            [data]=\"pieChartData\"\n            [labels]=\"pieChartLabels\"\n            [chartType]=\"pieChartType\"\n            [colors]=\"pieChartColors\"\n            [options]=\"pieChartOptions\">\n    </canvas>\n  </div>\n  </div>\n  ","import { Component, OnInit } from '@angular/core';\nimport { ProjectService } from '../Services/project.service';\nimport { Project } from '../Models/project.model';\nimport { Label, Color, SingleDataSet } from 'ng2-charts';\nimport { ChartOptions, ChartType, CTooltipItem } from 'chart.js';\n\n\n@Component({\n  selector: 'app-team-composition-chart',\n  templateUrl: './team-composition-chart.component.html',\n  styleUrls: ['./team-composition-chart.component.css']\n})\nexport class TeamCompositionChartComponent implements OnInit {\n  projects: Project[] = [];\n  selectedProject: Project | null = null;\n  pieChartLabels: Label[] = [];\n  pieChartData: SingleDataSet = [];\n  pieChartType: ChartType = 'pie';\n  // pieChartOptions: ChartOptions = {\n  //   responsive: true,\n  //   plugins: {\n  //     legend: {\n  //       display: true,\n  //       position: 'left', // Position the legend to the left\n  //       align: 'start',  // Align legends to the start\n  //       labels: {\n  //         boxWidth: 20, // Width of the legend box\n  //         padding: 10,  // Padding between the legend box and the label text\n  //       }\n  //     },\n  //     tooltip: {\n  //       callbacks: {\n  //         label: (tooltipItem) => {\n  //           return tooltipItem.label + ': ' + tooltipItem.formattedValue;\n  //         }\n  //       }\n  //     }\n  //   }\n  // };\n  pieChartOptions: ChartOptions<'pie'> = {\n    responsive: true,\n    plugins: {\n      legend: {\n        display: true,\n        position: 'left', // Position the legend to the left\n        align: 'start',  // Align legends to the start\n        labels: {\n          boxWidth: 20, // Width of the legend box\n          padding: 10,  // Padding between the legend box and the label text\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: (tooltipItem: TooltipItem<'pie'>) => {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue;\n          }\n        }\n      }\n    }\n  };\n  pieChartColors: Color[] = [\n    {\n      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40', '#E6E6FA', '#F08080', '#90EE90', '#FFA07A' ]\n    }\n  ];\n\n  constructor(private projectService: ProjectService) {}\n\n  ngOnInit(): void {\n    this.projectService.getAllProjects().subscribe((projects: Project[]) => {\n      this.projects = projects;\n    });\n  }\n\n  onProjectSelect(event: any): void {\n    const selectedProjectId = +event.target.value;\n    const selectedProject = this.projects.find(project => project.id === selectedProjectId);\n\n    if (selectedProject && selectedProject.status) {\n      const teamComposition = selectedProject.status.teamComposition;\n      this.pieChartLabels = Object.keys(teamComposition);\n      this.pieChartData = Object.values(teamComposition);\n      this.selectedProject = selectedProject;\n    } else {\n      this.pieChartLabels = [];\n      this.pieChartData = [];\n      this.selectedProject = null;\n    }\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}